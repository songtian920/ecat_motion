[0.009s] Invoking command in '/home/st/ecat_motion_ws/build/ecat_motion': CMAKE_PREFIX_PATH=${CMAKE_PREFIX_PATH}:/opt/ros/humble /usr/bin/cmake --build /home/st/ecat_motion_ws/build/ecat_motion -- -j12 -l12
[0.052s] [35m[1mConsolidate compiler generated dependencies of target node_motor_controller[0m
[0.076s] [ 50%] [32mBuilding CXX object CMakeFiles/node_motor_controller.dir/src/zy_motor_controller.cpp.o[0m
[0.076s] [ 50%] [32mBuilding CXX object CMakeFiles/node_motor_controller.dir/src/node_motor_controller.cpp.o[0m
[0.076s] [ 75%] [32mBuilding CXX object CMakeFiles/node_motor_controller.dir/src/motor_controller.cpp.o[0m
[2.414s] In file included from [01m[K/home/st/ecat_motion_ws/src/motor_control_test/src/node_motor_controller.cpp:5[m[K:
[2.414s] [01m[K/home/st/ecat_motion_ws/src/motor_control_test/include/motor_controller.h:51:48:[m[K [01;31m[Kerror: [m[Kdeclaration of ‘[01m[Kvel_out[m[K’ as array of references
[2.414s]    51 |     int vel_s_curve(float vel_current[],float &[01;31m[Kvel_out[m[K[]);
[2.414s]       |                                                [01;31m[K^~~~~~~[m[K
[2.439s] In file included from [01m[K/home/st/ecat_motion_ws/src/motor_control_test/include/zy_motor_controller.h:18[m[K,
[2.439s]                  from [01m[K/home/st/ecat_motion_ws/src/motor_control_test/src/zy_motor_controller.cpp:1[m[K:
[2.439s] [01m[K/home/st/ecat_motion_ws/src/motor_control_test/include/motor_controller.h:51:48:[m[K [01;31m[Kerror: [m[Kdeclaration of ‘[01m[Kvel_out[m[K’ as array of references
[2.439s]    51 |     int vel_s_curve(float vel_current[],float &[01;31m[Kvel_out[m[K[]);
[2.439s]       |                                                [01;31m[K^~~~~~~[m[K
[2.441s] [01m[K/home/st/ecat_motion_ws/src/motor_control_test/src/zy_motor_controller.cpp:[m[K In constructor ‘[01m[Kzy_motor_controller::zy_motor_controller(int16_t, int16_t, std::string, OptionParam, rclcpp::NodeOptions)[m[K’:
[2.441s] [01m[K/home/st/ecat_motion_ws/src/motor_control_test/src/zy_motor_controller.cpp:17:36:[m[K [01;35m[Kwarning: [m[KNULL used in arithmetic [[01;35m[K]8;;https://gcc.gnu.org/onlinedocs/gcc/Warning-Options.html#index-Wpointer-arith-Wpointer-arith]8;;[m[K]
[2.441s]    17 |         vel_max = (option.vel_max!=[01;35m[KNULL[m[K) ? option.vel_max : vel_max;   //最大速度
[2.441s]       |                                    [01;35m[K^~~~[m[K
[2.441s] [01m[K/home/st/ecat_motion_ws/src/motor_control_test/src/zy_motor_controller.cpp:18:36:[m[K [01;35m[Kwarning: [m[KNULL used in arithmetic [[01;35m[K]8;;https://gcc.gnu.org/onlinedocs/gcc/Warning-Options.html#index-Wpointer-arith-Wpointer-arith]8;;[m[K]
[2.441s]    18 |         acc_max = (option.acc_max!=[01;35m[KNULL[m[K) ? option.acc_max : acc_max;   //最大加速度 mm/s^2 用线速度表示
[2.441s]       |                                    [01;35m[K^~~~[m[K
[2.441s] [01m[K/home/st/ecat_motion_ws/src/motor_control_test/src/zy_motor_controller.cpp:19:46:[m[K [01;35m[Kwarning: [m[KNULL used in arithmetic [[01;35m[K]8;;https://gcc.gnu.org/onlinedocs/gcc/Warning-Options.html#index-Wpointer-arith-Wpointer-arith]8;;[m[K]
[2.442s]    19 |         jert_acc_max = (option.jert_acc_max!=[01;35m[KNULL[m[K) ? option.jert_acc_max : jert_acc_max;  //最大加加速或减加速  mm/s^3
[2.442s]       |                                              [01;35m[K^~~~[m[K
[2.442s] [01m[K/home/st/ecat_motion_ws/src/motor_control_test/src/zy_motor_controller.cpp:20:36:[m[K [01;35m[Kwarning: [m[KNULL used in arithmetic [[01;35m[K]8;;https://gcc.gnu.org/onlinedocs/gcc/Warning-Options.html#index-Wpointer-arith-Wpointer-arith]8;;[m[K]
[2.442s]    20 |         dcc_max = (option.dcc_max!=[01;35m[KNULL[m[K) ? option.dcc_max : dcc_max;   //最大减速度 mm/s^2  用线速度表示
[2.442s]       |                                    [01;35m[K^~~~[m[K
[2.442s] [01m[K/home/st/ecat_motion_ws/src/motor_control_test/src/zy_motor_controller.cpp:21:46:[m[K [01;35m[Kwarning: [m[KNULL used in arithmetic [[01;35m[K]8;;https://gcc.gnu.org/onlinedocs/gcc/Warning-Options.html#index-Wpointer-arith-Wpointer-arith]8;;[m[K]
[2.442s]    21 |         jert_dcc_max = (option.jert_dcc_max!=[01;35m[KNULL[m[K) ? option.jert_dcc_max : jert_dcc_max;  //最大减减速或加减速 mm/s^3
[2.442s]       |                                              [01;35m[K^~~~[m[K
[2.442s] [01m[K/home/st/ecat_motion_ws/src/motor_control_test/src/zy_motor_controller.cpp:22:56:[m[K [01;35m[Kwarning: [m[KNULL used in arithmetic [[01;35m[K]8;;https://gcc.gnu.org/onlinedocs/gcc/Warning-Options.html#index-Wpointer-arith-Wpointer-arith]8;;[m[K]
[2.442s]    22 |         followError_speed = (option.followError_speed!=[01;35m[KNULL[m[K) ? option.followError_speed : followError_speed; //跟随误差
[2.442s]       |                                                        [01;35m[K^~~~[m[K
[2.442s] [01m[K/home/st/ecat_motion_ws/src/motor_control_test/src/zy_motor_controller.cpp:23:40:[m[K [01;35m[Kwarning: [m[KNULL used in arithmetic [[01;35m[K]8;;https://gcc.gnu.org/onlinedocs/gcc/Warning-Options.html#index-Wpointer-arith-Wpointer-arith]8;;[m[K]
[2.442s]    23 |         sync_time = (option.sync_time!=[01;35m[KNULL[m[K) ? option.sync_time : sync_time;                   //同步周期时间 单位 秒s
[2.442s]       |                                        [01;35m[K^~~~[m[K
[2.446s] [01m[K/home/st/ecat_motion_ws/src/motor_control_test/src/zy_motor_controller.cpp:[m[K In member function ‘[01m[Kint zy_motor_controller::sync_control()[m[K’:
[2.446s] [01m[K/home/st/ecat_motion_ws/src/motor_control_test/src/zy_motor_controller.cpp:333:27:[m[K [01;35m[Kwarning: [m[Kunused variable ‘[01m[Kvel_pre[m[K’ [[01;35m[K]8;;https://gcc.gnu.org/onlinedocs/gcc/Warning-Options.html#index-Wunused-variable-Wunused-variable]8;;[m[K]
[2.446s]   333 |                     float [01;35m[Kvel_pre[m[K = 0.0f;  //速度预计算值
[2.446s]       |                           [01;35m[K^~~~~~~[m[K
[2.465s] In file included from [01m[K/home/st/ecat_motion_ws/src/motor_control_test/src/motor_controller.cpp:1[m[K:
[2.465s] [01m[K/home/st/ecat_motion_ws/src/motor_control_test/include/motor_controller.h:51:48:[m[K [01;31m[Kerror: [m[Kdeclaration of ‘[01m[Kvel_out[m[K’ as array of references
[2.465s]    51 |     int vel_s_curve(float vel_current[],float &[01;31m[Kvel_out[m[K[]);
[2.465s]       |                                                [01;31m[K^~~~~~~[m[K
[2.466s] [01m[K/home/st/ecat_motion_ws/src/motor_control_test/src/motor_controller.cpp:85:63:[m[K [01;31m[Kerror: [m[Kdeclaration of ‘[01m[Kvel_out[m[K’ as array of references
[2.467s]    85 | int motor_controller::vel_s_curve(float vel_current[],float  &[01;31m[Kvel_out[m[K[])
[2.467s]       |                                                               [01;31m[K^~~~~~~[m[K
[2.473s] [01m[K/home/st/ecat_motion_ws/src/motor_control_test/src/motor_controller.cpp:[m[K In member function ‘[01m[Kint motor_controller::vel_s_curve(...)[m[K’:
[2.473s] [01m[K/home/st/ecat_motion_ws/src/motor_control_test/src/motor_controller.cpp:106:39:[m[K [01;31m[Kerror: [m[K‘[01m[Kvel_current[m[K’ was not declared in this scope
[2.473s]   106 |             vel_spans[i] = vel_cmd[i]-[01;31m[Kvel_current[m[K[i];
[2.473s]       |                                       [01;31m[K^~~~~~~~~~~[m[K
[2.473s] [01m[K/home/st/ecat_motion_ws/src/motor_control_test/src/motor_controller.cpp:119:17:[m[K [01;35m[Kwarning: [m[Kthis ‘[01m[Kif[m[K’ clause does not guard... [[01;35m[K]8;;https://gcc.gnu.org/onlinedocs/gcc/Warning-Options.html#index-Wmisleading-indentation-Wmisleading-indentation]8;;[m[K]
[2.473s]   119 |                 [01;35m[Kif[m[K(abs(vel_spans[i]) > abs(span_max))
[2.473s]       |                 [01;35m[K^~[m[K
[2.473s] [01m[K/home/st/ecat_motion_ws/src/motor_control_test/src/motor_controller.cpp:121:21:[m[K [01;36m[Knote: [m[K...this statement, but the latter is misleadingly indented as if it were guarded by the ‘[01m[Kif[m[K’
[2.473s]   121 |                     [01;36m[Kspan_max[m[K = vel_spans[i];  //更新为当前值
[2.473s]       |                     [01;36m[K^~~~~~~~[m[K
[2.478s] [01m[K/home/st/ecat_motion_ws/src/motor_control_test/src/motor_controller.cpp:242:25:[m[K [01;31m[Kerror: [m[K‘[01m[Kvel_out[m[K’ was not declared in this scope
[2.478s]   242 |                         [01;31m[Kvel_out[m[K[i] = 0.5*jert_acc_real[i]*(t-t_aa_s)*(t-t_aa_s) + vel_init_0[i];  // 加速时域速度曲线
[2.478s]       |                         [01;31m[K^~~~~~~[m[K
[2.482s] [01m[K/home/st/ecat_motion_ws/src/motor_control_test/src/motor_controller.cpp:248:25:[m[K [01;31m[Kerror: [m[K‘[01m[Kvel_out[m[K’ was not declared in this scope
[2.483s]   248 |                         [01;31m[Kvel_out[m[K[i] = jert_acc_real[i]*(t_aa_e-t_aa_s)*(t-t_da_s)-0.5*jert_acc_max*(t-t_da_s)*(t-t_da_s) +
[2.483s]       |                         [01;31m[K^~~~~~~[m[K
[2.488s] [01m[K/home/st/ecat_motion_ws/src/motor_control_test/src/motor_controller.cpp:264:25:[m[K [01;31m[Kerror: [m[K‘[01m[Kvel_out[m[K’ was not declared in this scope
[2.488s]   264 |                         [01;31m[Kvel_out[m[K[i] = 0.5*jert_acc_real[i]*(t-t_aa_s)*(t-t_aa_s) + vel_init_0[i];  // 加速时域速度曲线
[2.488s]       |                         [01;31m[K^~~~~~~[m[K
[2.493s] [01m[K/home/st/ecat_motion_ws/src/motor_control_test/src/motor_controller.cpp:270:25:[m[K [01;31m[Kerror: [m[K‘[01m[Kvel_out[m[K’ was not declared in this scope
[2.493s]   270 |                         [01;31m[Kvel_out[m[K[i] = jert_acc_real[i]*(t_aa_e-t_aa_s)*(t-t_a_s) +
[2.493s]       |                         [01;31m[K^~~~~~~[m[K
[2.498s] [01m[K/home/st/ecat_motion_ws/src/motor_control_test/src/motor_controller.cpp:277:25:[m[K [01;31m[Kerror: [m[K‘[01m[Kvel_out[m[K’ was not declared in this scope
[2.498s]   277 |                         [01;31m[Kvel_out[m[K[i] = -0.5*jert_acc_real[i]*(t-t_da_s)*(t-t_da_s) + jert_acc_real[i]*(t_aa_e-t_aa_s)*(t-t_da_s)+
[2.498s]       |                         [01;31m[K^~~~~~~[m[K
[2.503s] [01m[K/home/st/ecat_motion_ws/src/motor_control_test/src/motor_controller.cpp:297:25:[m[K [01;31m[Kerror: [m[K‘[01m[Kvel_out[m[K’ was not declared in this scope
[2.503s]   297 |                         [01;31m[Kvel_out[m[K[i] = 0.5*jert_dcc_real[i]*(t-t_ad_s)*(t-t_ad_s) + vel_init_0[i];  // 加速时域速度曲线
[2.503s]       |                         [01;31m[K^~~~~~~[m[K
[2.508s] [01m[K/home/st/ecat_motion_ws/src/motor_control_test/src/motor_controller.cpp:303:25:[m[K [01;31m[Kerror: [m[K‘[01m[Kvel_out[m[K’ was not declared in this scope
[2.508s]   303 |                         [01;31m[Kvel_out[m[K[i] = jert_dcc_real[i]*(t_ad_e-t_ad_s)*(t-t_dd_s)-0.5*jert_dcc_max*(t-t_dd_s)*(t-t_dd_s) +
[2.508s]       |                         [01;31m[K^~~~~~~[m[K
[2.513s] [01m[K/home/st/ecat_motion_ws/src/motor_control_test/src/motor_controller.cpp:319:25:[m[K [01;31m[Kerror: [m[K‘[01m[Kvel_out[m[K’ was not declared in this scope
[2.514s]   319 |                         [01;31m[Kvel_out[m[K[i] = 0.5*jert_dcc_real[i]*(t-t_ad_s)*(t-t_ad_s) + vel_init_0[i];  // 减速时域速度曲线
[2.514s]       |                         [01;31m[K^~~~~~~[m[K
[2.521s] [01m[K/home/st/ecat_motion_ws/src/motor_control_test/src/motor_controller.cpp:325:25:[m[K [01;31m[Kerror: [m[K‘[01m[Kvel_out[m[K’ was not declared in this scope
[2.522s]   325 |                         [01;31m[Kvel_out[m[K[i] = jert_dcc_real[i]*(t_ad_e-t_ad_s)*(t-t_d_s) +
[2.522s]       |                         [01;31m[K^~~~~~~[m[K
[2.527s] [01m[K/home/st/ecat_motion_ws/src/motor_control_test/src/motor_controller.cpp:332:25:[m[K [01;31m[Kerror: [m[K‘[01m[Kvel_out[m[K’ was not declared in this scope
[2.527s]   332 |                         [01;31m[Kvel_out[m[K[i] = -0.5*jert_dcc_real[i]*(t-t_dd_s)*(t-t_dd_s) + jert_dcc_real[i]*(t_ad_e-t_ad_s)*(t-t_dd_s)+
[2.527s]       |                         [01;31m[K^~~~~~~[m[K
[3.082s] In file included from [01m[K/home/st/ecat_motion_ws/src/motor_control_test/src/node_motor_controller.cpp:6[m[K:
[3.082s] [01m[K/home/st/ecat_motion_ws/src/motor_control_test/include/zy_motor_controller.h:171:17:[m[K [01;35m[Kwarning: [m[K‘[01m[K__servos[m[K’ defined but not used [[01;35m[K]8;;https://gcc.gnu.org/onlinedocs/gcc/Warning-Options.html#index-Wunused-variable-Wunused-variable]8;;[m[K]
[3.082s]   171 | static servos_t [01;35m[K__servos[m[K[NUM_SERVOS] = {0};
[3.083s]       |                 [01;35m[K^~~~~~~~[m[K
[3.083s] [01m[K/home/st/ecat_motion_ws/src/motor_control_test/include/zy_motor_controller.h:121:26:[m[K [01;35m[Kwarning: [m[K‘[01m[K__pi_config[m[K’ defined but not used [[01;35m[K]8;;https://gcc.gnu.org/onlinedocs/gcc/Warning-Options.html#index-Wunused-variable-Wunused-variable]8;;[m[K]
[3.083s]   121 | static pi_offset_config  [01;35m[K__pi_config[m[K[] =
[3.083s]       |                          [01;35m[K^~~~~~~~~~~[m[K
[3.083s] [01m[K/home/st/ecat_motion_ws/src/motor_control_test/include/zy_motor_controller.h:45:12:[m[K [01;35m[Kwarning: [m[K‘[01m[Kg_run_task[m[K’ defined but not used [[01;35m[K]8;;https://gcc.gnu.org/onlinedocs/gcc/Warning-Options.html#index-Wunused-variable-Wunused-variable]8;;[m[K]
[3.083s]    45 | static U32 [01;35m[Kg_run_task[m[K = 1;
[3.083s]       |            [01;35m[K^~~~~~~~~~[m[K
[3.083s] [01m[K/home/st/ecat_motion_ws/src/motor_control_test/include/zy_motor_controller.h:44:12:[m[K [01;35m[Kwarning: [m[K‘[01m[Kg_op_mode[m[K’ defined but not used [[01;35m[K]8;;https://gcc.gnu.org/onlinedocs/gcc/Warning-Options.html#index-Wunused-variable-Wunused-variable]8;;[m[K]
[3.083s]    44 | static U32 [01;35m[Kg_op_mode[m[K = OP_MODE_CSP;
[3.083s]       |            [01;35m[K^~~~~~~~~[m[K
[3.099s] In file included from [01m[K/home/st/ecat_motion_ws/src/motor_control_test/src/zy_motor_controller.cpp:1[m[K:
[3.099s] [01m[K/home/st/ecat_motion_ws/src/motor_control_test/include/zy_motor_controller.h:[m[K At global scope:
[3.099s] [01m[K/home/st/ecat_motion_ws/src/motor_control_test/include/zy_motor_controller.h:45:12:[m[K [01;35m[Kwarning: [m[K‘[01m[Kg_run_task[m[K’ defined but not used [[01;35m[K]8;;https://gcc.gnu.org/onlinedocs/gcc/Warning-Options.html#index-Wunused-variable-Wunused-variable]8;;[m[K]
[3.099s]    45 | static U32 [01;35m[Kg_run_task[m[K = 1;
[3.099s]       |            [01;35m[K^~~~~~~~~~[m[K
[3.111s] gmake[2]: *** [CMakeFiles/node_motor_controller.dir/build.make:76: CMakeFiles/node_motor_controller.dir/src/node_motor_controller.cpp.o] Error 1
[3.111s] gmake[2]: *** Waiting for unfinished jobs....
[3.128s] gmake[2]: *** [CMakeFiles/node_motor_controller.dir/build.make:90: CMakeFiles/node_motor_controller.dir/src/zy_motor_controller.cpp.o] Error 1
[3.218s] gmake[2]: *** [CMakeFiles/node_motor_controller.dir/build.make:104: CMakeFiles/node_motor_controller.dir/src/motor_controller.cpp.o] Error 1
[3.218s] gmake[1]: *** [CMakeFiles/Makefile2:137: CMakeFiles/node_motor_controller.dir/all] Error 2
[3.218s] gmake: *** [Makefile:146: all] Error 2
[3.222s] Invoked command in '/home/st/ecat_motion_ws/build/ecat_motion' returned '2': CMAKE_PREFIX_PATH=${CMAKE_PREFIX_PATH}:/opt/ros/humble /usr/bin/cmake --build /home/st/ecat_motion_ws/build/ecat_motion -- -j12 -l12
